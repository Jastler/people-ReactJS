{"version":3,"sources":["api/people.js","components/Comments/Comments.jsx","components/CommentForm/CommentForm.jsx","components/PeopleList/PeopleList.jsx","App.jsx","index.jsx"],"names":["axios","require","BASE_URL","getPeople","a","get","response","data","results","getMorePeople","setPage","params","page","Comments","commentsWithId","deleteComment","map","comment","Fragment","text","type","onClick","id","defaultProps","CommentForm","useState","commentText","setCommentText","setCommentsWithId","className","onSubmit","event","preventDefault","uniqid","name","value","onChange","target","commentId","filterComments","filter","PeopleList","people","person","birth_year","App","setPeople","loadMore","setLoadMore","useEffect","then","result","peopleWithId","length","prevState","newPeople","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8PAAMA,EAAQC,EAAQ,IAEhBC,EAAW,gCAEJC,EAAS,uCAAG,4BAAAC,EAAA,sEACAJ,EAAMK,IAAIH,GADV,cACjBI,EADiB,yBAEhBA,EAASC,KAAKC,SAFE,2CAAH,qDAKTC,EAAa,uCAAG,WAAOC,GAAP,eAAAN,EAAA,sEACJJ,EAAMK,IAAIH,EAAU,CACzCS,OAAQ,CACNC,KAAMF,KAHiB,cACrBJ,EADqB,yBAMpBA,EAASC,KAAKC,SANM,2CAAH,sD,OCNbK,EAAW,SAAC,GAAD,IAAGC,EAAH,EAAGA,eAAgBC,EAAnB,EAAmBA,cAAnB,OACtB,qCACE,yCACCD,GAAkBA,EAAeE,KAAI,SAACC,GAAD,OACpC,eAAC,IAAMC,SAAP,WACE,4BACGD,EAAQE,OAEX,wBACEC,KAAK,SACLC,QAAS,WACPN,EAAcE,EAAQK,KAH1B,sBAJmBL,EAAQK,WA2BnCT,EAASU,aAAe,CACtBT,eAAgB,IC/BX,IAAMU,EAAc,WACzB,MAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA4CF,mBAAS,IAArD,mBAAOX,EAAP,KAAuBc,EAAvB,KAsBA,OACE,qBAAKC,UAAU,UAAf,SACE,uBACEC,SAdgB,SAACC,GATJ,IAACd,GAUlBc,EAAMC,iBAEDN,KAZaT,EAgBPS,EAfXE,EAAkB,GAAD,mBAAKd,GAAL,CAAqB,CAAEQ,GAAIW,MAAUd,KAAMF,MAgB5DU,EAAe,MAKb,UAGE,0BACEO,KAAK,cACLC,MAAOT,EACPU,SAAU,SAACL,GACTJ,EAAeI,EAAMM,OAAOF,UAGhC,wBACEf,KAAK,SADP,0BAKA,cAAC,EAAD,CACEN,eAAgBA,EAChBC,cAnCc,SAACuB,GACrB,IAAMC,EAAiBzB,EAAe0B,QAAO,SAACvB,GAAD,OAAaA,EAAQK,KAAOgB,KACzEV,EAAkBW,YCVTE,EAAa,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAH,OACxB,sBAAKb,UAAU,cAAf,UACE,4CACA,qBAAKA,UAAU,qBAAf,SACGa,EAAO1B,KAAI,SAAC2B,GAAD,OACV,sBACEd,UAAU,yBADZ,UAIE,oBAAIA,UAAU,aAAd,SACGc,EAAOT,OAEV,4BAAIS,EAAOC,aACX,cAAC,EAAD,MANKD,EAAOrB,aCLTuB,EAAM,WACjB,MAA4BpB,mBAAS,IAArC,mBAAOiB,EAAP,KAAeI,EAAf,KACA,EAAwBrB,mBAAS,GAAjC,mBAAOb,EAAP,KAAaF,EAAb,KACA,EAAgCe,oBAAS,GAAzC,mBAAOsB,EAAP,KAAiBC,EAAjB,KAEAC,qBAAU,WACR9C,IACG+C,MAAK,SAACC,GACL,IAAMC,EAAeD,EAAOnC,KAAI,SAAC2B,GAAD,oBAC9BrB,GAAIW,OACDU,MAELG,EAAUM,QAEb,IAgBH,OACE,sBAAKvB,UAAU,MAAf,UACE,4CACCa,EAAOW,OACN,qCACE,cAAC,EAAD,CAAYX,OAAQA,IACnBK,GACD,wBACE3B,KAAK,SACLC,QAAS,WACPX,GAAQ,SAAC4C,GAAD,OAAeA,EAAY,KAvB7C7C,EAAcG,EAAO,GAClBsC,MAAK,SAACC,GACL,IAAMI,EAAYJ,EAAOnC,KAAI,SAAC2B,GAAD,oBAC3BrB,GAAIW,OACDU,MAELG,EAAU,GAAD,mBAAKJ,GAAL,YAAgBa,QAE1BC,OAAM,WACLR,GAAY,OAWV,0BAYF,+CCnDRS,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.d70ca30d.chunk.js","sourcesContent":["const axios = require('axios');\n\nconst BASE_URL = 'https://swapi.dev/api/people/';\n\nexport const getPeople = async () => {\n  const response = await axios.get(BASE_URL);\n  return response.data.results;\n};\n\nexport const getMorePeople = async (setPage) => {\n  const response = await axios.get(BASE_URL, {\n    params: {\n      page: setPage,\n    },\n  });\n  return response.data.results;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Comments = ({ commentsWithId, deleteComment }) => (\n  <>\n    <h2>Comment</h2>\n    {commentsWithId && commentsWithId.map((comment) => (\n      <React.Fragment key={comment.id}>\n        <p>\n          {comment.text}\n        </p>\n        <button\n          type=\"button\"\n          onClick={() => {\n            deleteComment(comment.id);\n          }}\n        >\n          Delete\n        </button>\n      </React.Fragment>\n    ))}\n  </>\n);\n\nComments.propTypes = {\n  commentsWithId: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      text: PropTypes.string,\n    }),\n  ),\n  deleteComment: PropTypes.func.isRequired,\n};\n\nComments.defaultProps = {\n  commentsWithId: [],\n};\n","import React, { useState } from 'react';\nimport uniqid from 'uniqid';\nimport { Comments } from '../Comments/Comments';\n\nexport const CommentForm = () => {\n  const [commentText, setCommentText] = useState('');\n  const [commentsWithId, setCommentsWithId] = useState([]);\n\n  const addComment = (comment) => {\n    setCommentsWithId([...commentsWithId, { id: uniqid(), text: comment }]);\n  };\n\n  const deleteComment = (commentId) => {\n    const filterComments = commentsWithId.filter((comment) => comment.id !== commentId);\n    setCommentsWithId(filterComments);\n  };\n\n  const handlerSubmit = (event) => {\n    event.preventDefault();\n\n    if (!commentText) {\n      return;\n    }\n\n    addComment(commentText);\n    setCommentText('');\n  };\n\n  return (\n    <div className=\"comment\">\n      <form\n        onSubmit={handlerSubmit}\n      >\n        <textarea\n          name=\"commentText\"\n          value={commentText}\n          onChange={(event) => {\n            setCommentText(event.target.value);\n          }}\n        />\n        <button\n          type=\"submit\"\n        >\n          Push Comment\n        </button>\n        <Comments\n          commentsWithId={commentsWithId}\n          deleteComment={deleteComment}\n        />\n      </form>\n    </div>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CommentForm } from '../CommentForm';\n\nexport const PeopleList = ({ people }) => (\n  <div className=\"people-list\">\n    <p>people list</p>\n    <div className=\"people-list__cards\">\n      {people.map((person) => (\n        <div\n          className=\"people-list__card card\"\n          key={person.id}\n        >\n          <h2 className=\"card__name\">\n            {person.name}\n          </h2>\n          <p>{person.birth_year}</p>\n          <CommentForm />\n        </div>\n      ))}\n    </div>\n  </div>\n);\n\nPeopleList.propTypes = {\n  people: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      birth_year: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n","import './App.scss';\nimport React, { useEffect, useState } from 'react';\nimport uniqid from 'uniqid';\nimport { getPeople, getMorePeople } from './api/people';\nimport { PeopleList } from './components/PeopleList';\n\nexport const App = () => {\n  const [people, setPeople] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loadMore, setLoadMore] = useState(true);\n\n  useEffect(() => {\n    getPeople()\n      .then((result) => {\n        const peopleWithId = result.map((person) => ({\n          id: uniqid(),\n          ...person,\n        }));\n        setPeople(peopleWithId);\n      });\n  }, []);\n\n  const addPeople = () => {\n    getMorePeople(page + 1)\n      .then((result) => {\n        const newPeople = result.map((person) => ({\n          id: uniqid(),\n          ...person,\n        }));\n        setPeople([...people, ...newPeople]);\n      })\n      .catch(() => {\n        setLoadMore(false);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Star wars:</h1>\n      {people.length ? (\n        <>\n          <PeopleList people={people} />\n          {loadMore && (\n          <button\n            type=\"button\"\n            onClick={() => {\n              setPage((prevState) => prevState + 1);\n              addPeople();\n            }}\n          >\n            Load more\n          </button>\n          )}\n        </>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}