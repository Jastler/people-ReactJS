{"version":3,"sources":["api/people.js","components/Comments/Comments.jsx","components/CommentForm/CommentForm.jsx","components/PeopleList/PeopleList.jsx","App.jsx","index.jsx"],"names":["axios","require","BASE_URL","getPeople","a","get","response","data","results","getMorePeople","setPage","params","page","Comments","commentsWithId","deleteComment","className","map","comment","text","type","onClick","id","defaultProps","CommentForm","useState","commentText","setCommentText","setCommentsWithId","onSubmit","event","preventDefault","uniqid","name","value","onChange","target","commentId","filterComments","filter","PeopleList","people","person","birth_year","App","setPeople","loadMore","setLoadMore","useEffect","then","result","peopleWithId","length","prevState","newPeople","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4db00e48.chunk.js","sourcesContent":["const axios = require('axios');\n\nconst BASE_URL = 'https://swapi.dev/api/people/';\n\nexport const getPeople = async () => {\n  const response = await axios.get(BASE_URL);\n  return response.data.results;\n};\n\nexport const getMorePeople = async (setPage) => {\n  const response = await axios.get(BASE_URL, {\n    params: {\n      page: setPage,\n    },\n  });\n  return response.data.results;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Comments = ({ commentsWithId, deleteComment }) => (\n  <div className=\"card__comments comments\">\n    <h2 className=\"comments__title\">Comments</h2>\n    {commentsWithId && commentsWithId.map((comment) => (\n      <div\n        className=\"comments__body\"\n        key={comment.id}\n      >\n        <p className=\"comments__text\">\n          {comment.text}\n        </p>\n        <button\n          className=\"comments__button\"\n          type=\"button\"\n          onClick={() => {\n            deleteComment(comment.id);\n          }}\n        >\n          Delete\n        </button>\n      </div>\n    ))}\n  </div>\n);\n\nComments.propTypes = {\n  commentsWithId: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      text: PropTypes.string,\n    }),\n  ),\n  deleteComment: PropTypes.func.isRequired,\n};\n\nComments.defaultProps = {\n  commentsWithId: [],\n};\n","import React, { useState } from 'react';\nimport uniqid from 'uniqid';\nimport { Comments } from '../Comments/Comments';\n\nexport const CommentForm = () => {\n  const [commentText, setCommentText] = useState('');\n  const [commentsWithId, setCommentsWithId] = useState([]);\n\n  const addComment = (comment) => {\n    setCommentsWithId([...commentsWithId, { id: uniqid(), text: comment }]);\n  };\n\n  const deleteComment = (commentId) => {\n    const filterComments = commentsWithId.filter((comment) => comment.id !== commentId);\n    setCommentsWithId(filterComments);\n  };\n\n  const handlerSubmit = (event) => {\n    event.preventDefault();\n\n    if (!commentText) {\n      return;\n    }\n\n    addComment(commentText);\n    setCommentText('');\n  };\n\n  return (\n    <div className=\"card__comment-form comment-form\">\n      <form\n        className=\"comment-form__form\"\n        onSubmit={handlerSubmit}\n      >\n        <textarea\n          className=\"comment-form__textarea\"\n          name=\"commentText\"\n          value={commentText}\n          onChange={(event) => {\n            setCommentText(event.target.value);\n          }}\n        />\n        <button\n          className=\"comment-form__button\"\n          type=\"submit\"\n        >\n          Push Comment\n        </button>\n      </form>\n      <Comments\n        commentsWithId={commentsWithId}\n        deleteComment={deleteComment}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CommentForm } from '../CommentForm';\n\nexport const PeopleList = ({ people }) => (\n  <div className=\"people-list\">\n    <div className=\"people-list__cards\">\n      {people.map((person) => (\n        <div\n          className=\"people-list__card card\"\n          key={person.id}\n        >\n          <h2 className=\"card__name\">\n            {person.name}\n          </h2>\n          <p className=\"card__birth\">\n            {person.birth_year}\n          </p>\n          <CommentForm />\n        </div>\n      ))}\n    </div>\n  </div>\n);\n\nPeopleList.propTypes = {\n  people: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      birth_year: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n","import './App.scss';\nimport React, { useEffect, useState } from 'react';\nimport uniqid from 'uniqid';\nimport { getPeople, getMorePeople } from './api/people';\nimport { PeopleList } from './components/PeopleList';\n\nexport const App = () => {\n  const [people, setPeople] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loadMore, setLoadMore] = useState(true);\n\n  useEffect(() => {\n    getPeople()\n      .then((result) => {\n        const peopleWithId = result.map((person) => ({\n          id: uniqid(),\n          ...person,\n        }));\n        setPeople(peopleWithId);\n      });\n  }, []);\n\n  const addPeople = () => {\n    getMorePeople(page + 1)\n      .then((result) => {\n        const newPeople = result.map((person) => ({\n          id: uniqid(),\n          ...person,\n        }));\n        setPeople([...people, ...newPeople]);\n      })\n      .catch(() => {\n        setLoadMore(false);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"App__title\">Star wars:</h1>\n      {people.length ? (\n        <>\n          <PeopleList people={people} />\n          {loadMore && (\n          <button\n            className=\"App__load\"\n            type=\"button\"\n            onClick={() => {\n              setPage((prevState) => prevState + 1);\n              addPeople();\n            }}\n          >\n            Load more\n          </button>\n          )}\n        </>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}